#pragma once

#define TION_DEFAULT_MIN_TEMPERATURE 1
#define TION_DEFAULT_MAX_TEMPERATURE 25
#define TION_DEFAULT_BOOST_TIME 1200

#ifndef TION_BOOST_TIME
#define TION_BOOST_TIME TION_DEFAULT_BOOST_TIME
#endif

#ifndef TION_MAX_TEMPERATURE
#define TION_MAX_TEMPERATURE TION_DEFAULT_MAX_TEMPERATURE
#endif

#ifndef TION_MIN_TEMPERATURE
#define TION_MIN_TEMPERATURE TION_DEFAULT_MIN_TEMPERATURE
#endif

#if TION_MAX_TEMPERATURE < 20 || TION_MAX_TEMPERATURE > 30
#undef TION_MAX_TEMPERATURE
#define TION_MAX_TEMPERATURE TION_DEFAULT_MAX_TEMPERATURE
#endif

#if TION_MIN_TEMPERATURE < -25 || TION_MIN_TEMPERATURE >= TION_MAX_TEMPERATURE
#undef TION_MIN_TEMPERATURE
#define TION_MIN_TEMPERATURE TION_DEFAULT_MIN_TEMPERATURE
#endif

#ifndef TION_LT_HEATER_POWER
#define TION_LT_HEATER_POWER 1000
#endif

#ifndef TION_4S_HEATER_POWER1
#define TION_4S_HEATER_POWER1 1000
#endif

#ifndef TION_4S_HEATER_POWER2
#define TION_4S_HEATER_POWER2 1400
#endif

#ifndef TION_3S_HEATER_POWER
#define TION_3S_HEATER_POWER 1450
#endif

#ifndef TION_O2_HEATER_POWER
#define TION_O2_HEATER_POWER 1450
#endif

// Потребление Тиона O2 без включения нагревателя я измерил:
// Дежурный режим: 0.73 Вт
// 1 скорость: 10.3 Вт
// 2 скорость: 19.0 Вт
// 3 скорость: 19.4 Вт
// 4 скорость: 23.0 Вт
// https://ammo1.ru/21851
#define TION_O2_MAX_FAN_POWER0 73    // 0.73 Вт
#define TION_O2_MAX_FAN_POWER1 1030  // 10.3 Вт
#define TION_O2_MAX_FAN_POWER2 1900  // 19.0 Вт
#define TION_O2_MAX_FAN_POWER3 1940  // 19.4 Вт
#define TION_O2_MAX_FAN_POWER4 2300  // 23.0 Вт

#define TION_3S_MAX_FAN_POWER0 73    // 0.73 Вт
#define TION_3S_MAX_FAN_POWER1 1700  // 17 Вт
#define TION_3S_MAX_FAN_POWER2 2100  // 21 Вт
#define TION_3S_MAX_FAN_POWER3 2600  // 26 Вт
#define TION_3S_MAX_FAN_POWER4 2300  // 23 Вт
#define TION_3S_MAX_FAN_POWER5 2700  // 27 Вт
#define TION_3S_MAX_FAN_POWER6 2900  // 29 Вт

#define TION_4S_MAX_FAN_POWER0 73    // 0.73 Вт
#define TION_4S_MAX_FAN_POWER1 1510  // 15.1 Вт
#define TION_4S_MAX_FAN_POWER2 1620  // 16.2 Вт
#define TION_4S_MAX_FAN_POWER3 2330  // 23.3 Вт
#define TION_4S_MAX_FAN_POWER4 2380  // 23.8 Вт
#define TION_4S_MAX_FAN_POWER5 2520  // 25.2 Вт
#define TION_4S_MAX_FAN_POWER6 3070  // 30.7 Вт

#define TION_LT_MAX_FAN_POWER0 TION_4S_MAX_FAN_POWER0
#define TION_LT_MAX_FAN_POWER1 TION_4S_MAX_FAN_POWER1
#define TION_LT_MAX_FAN_POWER2 TION_4S_MAX_FAN_POWER2
#define TION_LT_MAX_FAN_POWER3 TION_4S_MAX_FAN_POWER3
#define TION_LT_MAX_FAN_POWER4 TION_4S_MAX_FAN_POWER4
#define TION_LT_MAX_FAN_POWER5 TION_4S_MAX_FAN_POWER5
#define TION_LT_MAX_FAN_POWER6 TION_4S_MAX_FAN_POWER6

// LT factory defaults: 2/4/6, 10/20/25 °C
#define TION_LT_BUTTON_PRESET_FAN1 2
#define TION_LT_BUTTON_PRESET_FAN2 4
#define TION_LT_BUTTON_PRESET_FAN3 6
#define TION_LT_BUTTON_PRESET_TMP1 10
#define TION_LT_BUTTON_PRESET_TMP2 20
#define TION_LT_BUTTON_PRESET_TMP3 25

#define TION_AUTO_KP 0.2736
#define TION_AUTO_TI 8
#define TION_AUTO_DB 20

#define TION_O2_AUTO_PROD 35, 60, 75, 120
#define TION_3S_AUTO_PROD 15, 30, 50, 60, 75, 100
#define TION_4S_AUTO_PROD 30, 45, 60, 75, 90, 120
#define TION_LT_AUTO_PROD 20, 30, 40, 50, 60, 80
